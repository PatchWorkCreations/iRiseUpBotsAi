<!-- templates/staff/attendance.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Attendance | iRiseUp</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-gray-100 to-gray-200 min-h-screen flex items-center justify-center px-4 py-10">
  <div class="bg-white shadow-2xl rounded-xl w-full max-w-2xl p-8 space-y-6">
    
    <!-- Header -->
    <div class="text-center">
      <h1 class="text-3xl font-bold text-gray-800">üëã Welcome, {{ user.first_name }}!</h1>
      <p class="text-gray-500 mt-1">Position: <span class="font-semibold">{{ profile.get_position_type_display }}</span></p>
      <p class="text-sm text-gray-400 mt-1">Today is <span id="today-date"></span></p>
    </div>

    <!-- Buttons -->
    <div class="flex justify-center gap-4">
      <a href="?action=in"
         class="flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition">
        üü¢ Time In
      </a>
      <a href="?action=out"
         class="flex items-center gap-2 bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition">
        üî¥ Time Out
      </a>
    </div>

    <!-- Table of logs -->
    {% if logs %}
      <div>
        <h2 class="text-lg font-semibold text-gray-700 mb-3">üìã Today's Attendance</h2>
        <div class="overflow-x-auto">
          <table class="w-full table-auto border border-gray-200 rounded-lg overflow-hidden">
            <thead class="bg-gray-100 text-gray-700 text-sm">
              <tr>
                <th class="px-4 py-2 text-left">Action</th>
                <th class="px-4 py-2 text-left">Timestamp</th>
              </tr>
            </thead>
            <tbody>
              {% for log in logs %}
                <tr class="border-b text-sm text-gray-600">
                  <td class="px-4 py-2 font-medium">{{ log.get_action_display }}</td>
                  <td class="px-4 py-2">{{ log.timestamp }}</td>
                </tr>
              {% empty %}
                <tr>
                  <td colspan="2" class="text-center text-gray-400 py-4">No attendance yet.</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    {% endif %}

    <p class="text-xs text-gray-400 text-center mt-4">
      ‚è≥ Your attendance is logged securely and will reflect in your reports.
    </p>
  </div>

  <!-- Date script -->
  <script>
    const today = new Date().toLocaleDateString(undefined, {
      weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
    });
    document.getElementById('today-date').textContent = today;
  </script>
</body>
</html>
