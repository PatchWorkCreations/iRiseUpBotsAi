{% extends 'myapp/aibots/admin/base_admin.html' %}

{% block content %}
<h1>Pro Users</h1>

<div style="margin-bottom: 30px;">
    <h2>List of Pro Users</h2>
    <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
        <thead>
            <tr>
                <th style="text-align: left; padding: 10px; background-color: #f4f4f4; border: 1px solid #ddd;">Email</th>
                <th style="text-align: left; padding: 10px; background-color: #f4f4f4; border: 1px solid #ddd;">Name</th>
                <th style="text-align: left; padding: 10px; background-color: #f4f4f4; border: 1px solid #ddd;">Expiration Date</th>
                <th style="text-align: left; padding: 10px; background-color: #f4f4f4; border: 1px solid #ddd;">Saved Card</th>
            </tr>
        </thead>
        <tbody>
            {% for user_sub in pro_users %}
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ user_sub.user.email }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ user_sub.user.first_name }} {{ user_sub.user.last_name }}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{ user_sub.expiration_date }}</td>
                <td style="padding: 10px; border: 1px solid #ddd; color: {% if user_sub.user.squarecustomer.card_id %}green{% else %}red{% endif %}; font-weight: bold;">
                    {% if user_sub.user.squarecustomer.card_id %}
                        ✅ Yes
                    {% else %}
                        ❌ No
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" style="padding: 10px; border: 1px solid #ddd; text-align: center;">No Pro users found.</td>
            </tr>
            {% endfor %}
        </tbody>
          
         
    </table>
</div>

<a href="{% url 'custom_admin:dashboard' %}" 
   style="display: inline-block; padding: 10px 15px; background-color: #007bff; color: #fff; text-decoration: none; border-radius: 5px;">
    ⬅ Back to Dashboard
</a>

{% endblock %}
